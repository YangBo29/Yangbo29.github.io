<!-- build time:Tue Jul 17 2018 20:08:58 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><title>Node 基本语法 | Hexo</title><meta name="description" content="Node 的特点NODE只是一个工具（或者环境），我们可以把NODE安装在服务器上，NODE提供的环境可以运行JS代码，这样我们就可以在服务器端使用JavaScript编写一些处理服务器相关操作的程序，也可以理解为JS变为了后台编程语言。1、NODE是基于V8引擎来渲染JS的（V8是谷歌的引擎）渲染JS的速度会很快我们在使用JS开发后台程序的时候，不需要考虑浏览器兼容了，使用JS的最新标准即可（E"><meta name="keywords" content="node"><meta property="og:type" content="article"><meta property="og:title" content="Node 基本语法"><meta property="og:url" content="http://yoursite.com/2017/10/14/node/index.html"><meta property="og:site_name" content="我的博客"><meta property="og:description" content="Node 的特点NODE只是一个工具（或者环境），我们可以把NODE安装在服务器上，NODE提供的环境可以运行JS代码，这样我们就可以在服务器端使用JavaScript编写一些处理服务器相关操作的程序，也可以理解为JS变为了后台编程语言。1、NODE是基于V8引擎来渲染JS的（V8是谷歌的引擎）渲染JS的速度会很快我们在使用JS开发后台程序的时候，不需要考虑浏览器兼容了，使用JS的最新标准即可（E"><meta property="og:locale" content="zh-Hans"><meta property="og:updated_time" content="2018-03-22T11:30:48.194Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Node 基本语法"><meta name="twitter:description" content="Node 的特点NODE只是一个工具（或者环境），我们可以把NODE安装在服务器上，NODE提供的环境可以运行JS代码，这样我们就可以在服务器端使用JavaScript编写一些处理服务器相关操作的程序，也可以理解为JS变为了后台编程语言。1、NODE是基于V8引擎来渲染JS的（V8是谷歌的引擎）渲染JS的速度会很快我们在使用JS开发后台程序的时候，不需要考虑浏览器兼容了，使用JS的最新标准即可（E"><link rel="canonical" href="http://yoursite.com/2017/10/14/node/index.html"><link rel="alternate" href="/atom.xml" title="我的博客" type="application/atom+xml"><link rel="icon" href="/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"></head><body class="main-center theme-green" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/YangBo29" target="_blank"><img class="img-circle img-rotate" src="/images/avat.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">杨波</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">人生总是要奋斗的</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> beijing, China</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="Search"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="Type something..." x-webkit-speech> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">Home</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">Archives</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/YangBo29" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="https://weibo.com/u/3809860910" target="_blank" title="Weibo" data-toggle="tooltip" data-placement="top"><i class="icon icon-weibo"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">Board</h3><div class="widget-body"><div id="board"><p>您好，您是第<span id="busuanzi_value_site_uv">0</span>位访客</p><div class="content"><p>欢迎交流与分享经验!</p></div></div></div></div><div class="widget"><h3 class="widget-title">Categories</h3><div class="widget-body"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ant-Design/">ant Design</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/cropper/">cropper</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/gulp/">gulp</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/node/">node</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端框架/">前端框架</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/原生js/">原生js</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/正则/">正则</a><span class="category-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">Tags</h3><div class="widget-body"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a><span class="tag-list-count">8</span></li></ul></div></div><div class="widget"><h3 class="widget-title">Tag Cloud</h3><div class="widget-body tagcloud"><a href="/tags/js/" style="font-size:14px">js</a> <a href="/tags/node/" style="font-size:13px">node</a> <a href="/tags/react/" style="font-size:14px">react</a></div></div><div class="widget"><h3 class="widget-title">Archive</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">2</span></li></ul></div></div><div class="widget"><h3 class="widget-title">Recent Posts</h3><div class="widget-body"><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/ant-Design/">ant Design</a></p><p class="item-title"><a href="/2018/07/17/antDesign/" class="title">ant Design（1）</a></p><p class="item-date"><time datetime="2018-07-16T16:00:00.000Z" itemprop="datePublished">2018-07-17</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/cropper/">cropper</a></p><p class="item-title"><a href="/2018/07/07/jQuery.cropper/" class="title">jQuery.cropper 插件</a></p><p class="item-date"><time datetime="2018-07-06T16:00:00.000Z" itemprop="datePublished">2018-07-07</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/gulp/">gulp</a></p><p class="item-title"><a href="/2018/06/17/gulp/" class="title">gulp</a></p><p class="item-date"><time datetime="2018-06-16T16:00:00.000Z" itemprop="datePublished">2018-06-17</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/正则/">正则</a></p><p class="item-title"><a href="/2017/11/26/regExp/" class="title">RegExp</a></p><p class="item-date"><time datetime="2017-11-25T16:00:00.000Z" itemprop="datePublished">2017-11-26</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/前端框架/">前端框架</a></p><p class="item-title"><a href="/2017/11/12/middleWare/" class="title">MiddleWare</a></p><p class="item-date"><time datetime="2017-11-11T16:00:00.000Z" itemprop="datePublished">2017-11-12</time></p></div></li></ul></div></div></div></aside><aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><nav id="toc" class="article-toc"><h3 class="toc-title">Catalogue</h3><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Node-的特点"><span class="toc-number">1.</span> <span class="toc-text">Node 的特点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#NODE天生就是基于模块化开发的"><span class="toc-number">1.1.</span> <span class="toc-text">NODE天生就是基于模块化开发的</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Path-模块"><span class="toc-number">1.1.1.</span> <span class="toc-text">Path 模块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Http-模块"><span class="toc-number">1.1.2.</span> <span class="toc-text">Http 模块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FS-模块"><span class="toc-number">1.1.3.</span> <span class="toc-text">FS 模块</span></a></li></ol></li></ol></li></ol></nav></div></aside><main class="main" role="main"><div class="content"><article id="post-node" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">Node 基本语法</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/2017/10/14/node/" class="article-date"><time datetime="2017-10-13T16:00:00.000Z" itemprop="datePublished">2017-10-14</time></a></span> <span class="article-category"><i class="icon icon-folder"></i> <a class="article-category-link" href="/categories/node/">node</a></span> <span class="article-tag"><i class="icon icon-tags"></i> <a class="article-tag-link" href="/tags/node/">node</a></span> <span class="article-read hidden-xs"><i class="icon icon-eye-fill" aria-hidden="true"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></span> <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2017/10/14/node/#comments" class="article-comment-link">Comments</a></span></div></div><div class="article-entry markdown-body" itemprop="articleBody"><h2 id="Node-的特点"><a href="#Node-的特点" class="headerlink" title="Node 的特点"></a>Node 的特点</h2><blockquote><p>NODE只是一个工具（或者环境），我们可以把NODE安装在服务器上，NODE提供的环境可以运行JS代码，这样我们就可以在服务器端使用JavaScript编写一些处理服务器相关操作的程序，也可以理解为JS变为了后台编程语言。</p><ul><li>1、NODE是基于V8引擎来渲染JS的（V8是谷歌的引擎）<ul><li>渲染JS的速度会很快</li><li>我们在使用JS开发后台程序的时候，不需要考虑浏览器兼容了，使用JS的最新标准即可（ECMAScript）</li></ul></li><li>2、单线程、无阻塞I/O操作、事件驱动（event-driven）</li></ul></blockquote><blockquote><p>首先要安装node，下载地址<a href="http://nodejs.cn/" target="_blank" rel="noopener">Node.js</a> 下载最新的即可，因为node也在不断更新语法和处理方式；</p></blockquote><blockquote><p>Node和客户端的主要区别在于全局对象</p><ul><li>浏览器全局对象: window</li><li>NODE全局对象: global</li></ul></blockquote><h3 id="NODE天生就是基于模块化开发的"><a href="#NODE天生就是基于模块化开发的" class="headerlink" title="NODE天生就是基于模块化开发的"></a>NODE天生就是基于模块化开发的</h3><blockquote><p>NODE中模块这个概念非常强（强到我们每创建一个新的JS，都相当于创建了一个新的模块）</p><p>NODE是基于commonjs规范来完成模块设计的（如何创建模块、如何调取模块、如何导出模块 这些就是规范里提及的内容）</p><ul><li>CMD模块开发思想：seajs （按需导入：用到的时候在导入进来使用）</li><li>AMD模块开发思想：requirejs （提前导入所有需要的依赖）</li></ul><p>1、自定义模块：自己创建的<br>2、第三方模块：别人写好的我来用<br>3、内置模块：天生自带的</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//=&gt;NODE为了实现模块之间的独立，会自动包一层闭包，而且给每一个模块传递五个值</span><br><span class="line">(function (exports, require, module, __filename, __dirname) &#123;</span><br><span class="line">   /*</span><br><span class="line">    * module模块:NODE模块管理的对象</span><br><span class="line">    * exports叫做导出，等同于module.exports，用来把模块进行导出的</span><br><span class="line">    * require是导入的方法，通过这个方法可以把一些模块导入到当前模块中使用</span><br><span class="line">   */</span><br><span class="line"></span><br><span class="line">    //=&gt;内部代码中有一个类似于这样的操作，可以把一些想要供别人使用的属性和方法暴露出来</span><br><span class="line">    module.exports=exports=this=&#123;</span><br><span class="line">        fn:()=&gt;&#123;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p><strong>module.exports</strong></p><blockquote><p>把当前模块中的某些属性和方法导出</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">module.exports.fn=fn;</span><br><span class="line">module.exports.a=12;</span><br><span class="line">//=&gt;上面写起来麻烦（上面属于向原有内置对象的堆内存中增加属性和方法，下面属于导出一个新的堆内存）</span><br><span class="line">module.exports=&#123;</span><br><span class="line">  fn:fn,</span><br><span class="line">  a:12</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">//=&gt;直接使用exports也可以，但是这种模式只能使用原有内置内容，自己开辟新内存不行</span><br><span class="line">exports.fn=fn;</span><br><span class="line">exports=&#123;&#125;;//=&gt;这种方式不行</span><br></pre></td></tr></table></figure><p><strong>require</strong></p><blockquote><p>导入某个模块，目的是使用其它模块中的属性和方法。在导入自定义模块和第三方模块语法上是有一些区别需要注意的</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">require(&apos;./xxx&apos;) ： 指定目录的情况下，都是为了要导入自己定义的模块</span><br><span class="line"></span><br><span class="line">require(&apos;xxx&apos;)：不指定目录情况下，可能是导入第三方安装的模块，也可能是导入内置模块。</span><br><span class="line">// 查找规则: 首先到node_modules文件夹中找第三方模块，有的话，导入的就是第三方模块，没有的话，看内置模块中有没有，内置中这个模块，导入的就是内置模块，内置中没有就会报错。</span><br></pre></td></tr></table></figure><hr><h4 id="Path-模块"><a href="#Path-模块" class="headerlink" title="Path 模块"></a>Path 模块</h4><blockquote><p>用于处理文件路径</p><ul><li>path.normalize(p) 路径解析，得到规范路径</li><li>path.join 路径合并</li><li>path.resolve([from …], to) 获取绝对路径</li><li>path.relative(from, to) 获取相对路径</li><li>path.isAbsolute(path) 判定是否为绝对路径</li><li>path.dirname(p) 返回路径中文件夹的名称</li><li>path.basename(p, [ext]) 返回路径中的最后一部分</li><li>path.extname(p) 返回路径中文件的扩展名, 在从最后一部分中的最后一个’.’到字符串的末尾。 如果在路径的最后一部分没有’.’，或者第一个字符是’.’，就返回一个 空字符串</li><li>path.parse(pathString) 解析路径 (返回一个对象：{ root : “/“, dir : “/home/user/dir”, base : “file.txt”, ext : “.txt”, name : “file” })</li></ul></blockquote><hr><h4 id="Http-模块"><a href="#Http-模块" class="headerlink" title="Http 模块"></a>Http 模块</h4><blockquote><p>用于和服务器交互</p><ul><li>http.createServer(function(req,res){}); 创建服务</li><li>http.get(‘path’,callback); 发送get请求。</li><li>http.request(options,callback); 发送请求。</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">var http=require(&apos;http&apos;);</span><br><span class="line">var querystring=require(&apos;querystring&apos;);</span><br><span class="line"></span><br><span class="line">//启动服务</span><br><span class="line">http.createServer((req,res)=&gt;&#123;</span><br><span class="line">    console.log(&quot;request already come&quot;);</span><br><span class="line">    var post = &quot;&quot;;</span><br><span class="line">    req.on(&apos;data&apos;,(chunk)=&gt;&#123;</span><br><span class="line">        post += chunk;</span><br><span class="line">    &#125;);</span><br><span class="line">    req.on(&apos;end&apos;,()=&gt;&#123;</span><br><span class="line">        //querystring.parse  将字符串转换为json的格式</span><br><span class="line">        post =  querystring.parse(post);</span><br><span class="line">        console.log(&apos;complete complished&apos;);</span><br><span class="line">        //返回请求者一个信息</span><br><span class="line">        res.write(post.name);</span><br><span class="line">        res.end();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;).listen(3000);</span><br></pre></td></tr></table></figure><h4 id="FS-模块"><a href="#FS-模块" class="headerlink" title="FS 模块"></a>FS 模块</h4><blockquote><p>主要作用就是进行I/O操作（对服务器端的文件进行增删改查等操作）</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 导入fs模块</span><br><span class="line">let fs = require(&apos;fs&apos;);</span><br><span class="line">//=&gt;接下来就可以使用它里面提供的方法了</span><br></pre></td></tr></table></figure><blockquote><p>我们发现FS中提供的方法一般都是两套：同步操作和异步操作各一套</p><p>例如：<br>fs.readFile 异步读取文件中的内容<br>fs.readFileSync 同步读取文件中的内容</p><p>同步和异步的区别在于：同步读取文件，文件内容没有读取完成，后面的任务无法处理，而异步不是，数据没有读取完成，下面的任务先去执行（我们也把这个特点叫做 <code>“无阻塞的I/O操作”</code>）</p></blockquote><hr><p><strong>readFile &amp;&amp; readFileSync</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//=&gt;同步读取</span><br><span class="line">let con = fs.readFileSync(&apos;./index.html&apos;);</span><br><span class="line">console.log(con); //=&gt;BUFFER</span><br><span class="line"></span><br><span class="line">con = fs.readFileSync(&apos;./index.html&apos;, &apos;utf8&apos;);</span><br><span class="line">console.log(con); //=&gt;STRING 设置UTF8后,会自动把BUFFER格式的数据转换为字符串格式的数据</span><br><span class="line"></span><br><span class="line">console.log(&apos;ok&apos;);//=&gt;最后执行:同步读取,需要等内容读取完成才会执行下面的任务</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//=&gt;异步读取</span><br><span class="line">console.time(&apos;readFile&apos;);</span><br><span class="line">let con = fs.readFile(&apos;./index2.html&apos;, &apos;utf8&apos;, (err, result)=&gt; &#123;</span><br><span class="line">    //=&gt;回调函数就是NODE的事件驱动机制:当文件读取成功或者失败的时候,会触发回调函数执行(并且传递两个实参值)</span><br><span class="line">    //=&gt;err(error):当读取出错,信息保存在err中,如果没有出错,err为null</span><br><span class="line">    //=&gt;result:当读取成功,信息保存在result中(第二个参数不设置utf8,获取的结果依然是Buffer格式的数据)</span><br><span class="line">    console.timeEnd(&apos;readFile&apos;);</span><br><span class="line">    if (err) &#123;</span><br><span class="line">        //=&gt;出错了:真实项目中我们会把错误信息记录在错误日志中</span><br><span class="line">        console.log(err);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(result);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(&apos;ok&apos;);//=&gt;OK是先输出的</span><br></pre></td></tr></table></figure><hr><p><strong>fs.writeFile &amp;&amp; fs.writeFileSync</strong></p><blockquote><p>同步或者异步向某个文件中写入内容</p><blockquote><p>特点：</p><ul><li>1、如果当前文件没有，我们会自动创建文件，然后再写入内容（但是并不是万能的：如果指定的地址中不存在这个文件夹，NODE无法自动帮你创建文件夹，需要我们自己手动检测并创建）</li><li>2、文件写入属于覆盖式写入（新写入的内容会覆盖原有的内容）</li><li>3、写入的内容需要是字符串或者BUFFER格式的数据</li></ul></blockquote></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 同步写入</span><br><span class="line">let res = fs.writeFileSync(&apos;./TEMP.txt&apos;, &apos;HELLO&apos;, &apos;utf8&apos;);</span><br><span class="line">console.log(res); //=&gt;undefined 写入的方法没有返回值</span><br><span class="line"></span><br><span class="line">// 异步写入</span><br><span class="line">fs.writeFile(&apos;./TEMP.txt&apos;, &apos;珠峰培训&apos;, &apos;utf8&apos;, (error)=&gt; &#123;</span><br><span class="line">    //=&gt;这里面只有ERROR一个参数:代表写入成功还是失败</span><br><span class="line">    console.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><hr><p><strong>appendFile &amp;&amp; appendFileSync</strong></p><blockquote><p>用法和writeFile类似,不一样的地方在于：appendFile写入属于追加式写入（原有内容不改变），而writeFile输入覆盖式写入（覆盖原有的内容）</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fs.appendFileSync(&apos;./TEMP.txt&apos;, &apos;HELLO&apos;, &apos;utf8&apos;);</span><br><span class="line"></span><br><span class="line">fs.appendFile(&apos;./TEMP.txt&apos;, &apos;HELLO&apos;, &apos;utf8&apos;, error=&gt; &#123;</span><br><span class="line">    if (error) &#123;</span><br><span class="line">        console.log(error);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(&apos;success&apos;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><hr><p><strong>readdir &amp;&amp; readdirSync</strong></p><blockquote><p>同步或者异步读取某一个目录下所有的文件和文件夹信息</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let dirList = fs.readdirSync(&apos;./&apos;);</span><br><span class="line">console.log(dirList);</span><br><span class="line"></span><br><span class="line">fs.readdir(&apos;./&apos;, (error, result)=&gt; &#123;</span><br><span class="line">    if (error) &#123;</span><br><span class="line">        console.log(error);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(result); //=&gt;获取一个数组集合,集合中包含当前目录中(./)所有的文件及文件夹信息</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><hr><p><strong>mkdir &amp;&amp; mkdirSync</strong></p><blockquote><p>创建文件夹</p><ul><li>特点:<ul><li>1、可以创建文件夹，如果当前文件夹已经存在，返回的是错误的信息，不会重新的创建</li><li>2、不能一次创建多级结构目录，例如：./TEMP/DAY1/CSS 这样的多级目录无法一次创建，需要先创建TEMP，然后再创建DAY1…</li></ul></li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fs.mkdir(&apos;./TEMP&apos;, (error)=&gt; &#123;</span><br><span class="line">    if (error) &#123;</span><br><span class="line">        console.log(&apos;error&apos;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(&apos;success&apos;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>自己实现一个方法，可以一次创建多级结构目录</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line"> * 创建文件夹</span><br><span class="line"> *   path: &apos;./TEMP&apos; 、&apos;./TEMP/DAY1&apos; 、&apos;./TEMP/DAY1/CSS&apos; ...</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">let makeDir = function (path) &#123;</span><br><span class="line">    let pathAry = path.split(&apos;/&apos;),</span><br><span class="line">        [root,...arg]=pathAry;</span><br><span class="line">    root = root + &apos;/&apos;;</span><br><span class="line"></span><br><span class="line">    let make = n=&gt; &#123;</span><br><span class="line">        if (n &gt;= arg.length) return;</span><br><span class="line">        let curPath = arg[n];</span><br><span class="line">        fs.mkdir(root + curPath, error=&gt; &#123;</span><br><span class="line">            root += curPath + &apos;/&apos;;</span><br><span class="line">            make(n + 1);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">    make(0);</span><br><span class="line">&#125;;</span><br><span class="line">makeDir(&apos;./TEMP/DAY1/CSS/LESS&apos;);</span><br></pre></td></tr></table></figure><blockquote><p>除了上述方法以外，还有很多其它的方法，例如：copyFile、rmdir… ，大家可以观看NODE中文文档（<a href="http://nodejs.cn/api/）" target="_blank" rel="noopener">http://nodejs.cn/api/）</a></p></blockquote></div><div class="article-footer"><blockquote class="mt-2x"><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>本文链接：</strong> <a href="http://yoursite.com/2017/10/14/node/" title="Node 基本语法" target="_blank" rel="external">http://yoursite.com/2017/10/14/node/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！</li></ul></blockquote><div class="panel panel-default panel-badger"><div class="panel-body"><figure class="media"><div class="media-left"><a href="https://github.com/YangBo29" target="_blank" class="img-burn thumb-sm visible-lg"><img src="/images/avat.jpg" class="img-rounded w-full" alt=""></a></div><div class="media-body"><h3 class="media-heading"><a href="https://github.com/YangBo29" target="_blank"><span class="text-dark">杨波</span><small class="ml-1x">人生总是要奋斗的</small></a></h3><div>个人介绍</div></div></figure></div></div></div></article><section id="comments"></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/2017/10/28/express/" title="Express"><i class="icon icon-angle-left" aria-hidden="true"></i>&nbsp;&nbsp;Newer</a></li><li class="next"><a href="/2017/09/17/reduxApp/" title="react 高阶组件">Older&nbsp;&nbsp;<i class="icon icon-angle-right" aria-hidden="true"></i></a></li></ul><div class="bar-right"><div class="share-component" data-sites="weibo,qq" data-mobile-sites="weibo,qq,qzone"></div><div class="toggle-toc hidden-xs"><a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="Catalogue" role="button"><i class="text-collapsed icon icon-anchor"></i> <i class="text-in icon icon-close"></i></a></div></div></div></nav></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/YangBo29" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="https://weibo.com/u/3809860910" target="_blank" title="Weibo" data-toggle="tooltip" data-placement="top"><i class="icon icon-weibo"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul><div class="copyright"><div class="publishby">Theme by <a href="https://github.com/cofess" target="_blank">cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.</div></div></footer><script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>!function(T){var n={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},ROOT_URL:"/",CONTENT_URL:"/content.json"};T.INSIGHT_CONFIG=n}(window)</script><script src="/js/insight.js"></script><script defer src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html><!-- rebuild by neat -->